import '../utils/key_code.dart';
// https://github.com/jtroo/kanata/blob/a9dabfcb07e22c9efa0bc15349780b10afacb6cd/parser/src/keys/mod.rs as guide

class Mappings {
  static const Map<String, String> keyMappings = {
    'â—„': 'Left',
    'â†': 'Left',
    'â—€': 'Left',
    'LEFT': 'Left',
    'â–²': 'Up',
    'â†‘': 'Up',
    'UP': 'Up',
    'â–º': 'Right',
    'â†’': 'Right',
    'â–¶': 'Right',
    'RIGHT': 'Right',
    'â–¼': 'Down',
    'â†“': 'Down',
    'DOWN': 'Down',
    'â': 'Enter',
    'â†µ': 'Enter',
    'â†©': 'Enter',
    'âŒ¤': 'Enter',
    'â¤': 'Enter',
    'ENTER': 'Enter',
    'ENT': 'Enter',
    'RETURN': 'Enter',
    'RET': 'Enter',
    'âŒ«': 'Backspace',
    'âˆ': 'Backspace',
    'BSPC': 'Backspace',
    'BS': 'Backspace',
    'BKSP': 'Backspace',
    'BKS': 'Backspace',
    'âŒ¦': 'Delete',
    'â¡': 'Delete',
    'DEL': 'Delete',
    'DELETE': 'Delete',
    'â­¾': 'Tab',
    'â†¹': 'Tab',
    'TAB': 'Tab',
    'â£': ' ',
    'âµ': ' ',
    'â ': ' ',
    'SPC': ' ',
    'SPACE': ' ',
    'â‹': 'Escape',
    'ESC': 'Escape',
    'â‡ª': 'CapsLock',
    'CAPS': 'CapsLock',
    'â¤“': 'PageDown',
    'â‡Ÿ': 'PageDown',
    'PGDN': 'PageDown',
    'â¤’': 'PageUp',
    'â‡': 'PageUp',
    'PGUP': 'PageUp',
    'â‡±': 'Home',
    'â‡¤': 'Home',
    'â†–': 'Home',
    'HOME': 'Home',
    'â‡²': 'End',
    'â‡¥': 'End',
    'â†˜': 'End',
    'END': 'End',
    // Treating VK_(modifier) as default VK_(left modifier) for now
    // 'â‡§': 'Shift',
    // 'SFT': 'Shift',
    // 'SHFT': 'Shift',
    // 'SHIFT': 'Shift',
    'â‡§': 'LShift',
    'SFT': 'LShift',
    'SHFT': 'LShift',
    'SHIFT': 'LShift',
    'â€¹â‡§': 'LShift',
    'LSFT': 'LShift',
    'LSHFT': 'LShift',
    'LSHIFT': 'LShift',
    'â‡§â€º': 'RShift',
    'RSFT': 'RShift',
    'RSHFT': 'RShift',
    'RSHIFT': 'RShift',
    // 'âŒƒ': 'Control',
    // 'âˆ': 'Control',
    // 'CTL': 'Control',
    // 'CTRL': 'Control',
    'âŒƒ': 'LControl',
    'âˆ': 'LControl',
    'CTL': 'LControl',
    'CTRL': 'LControl',
    'â€¹âŒƒ': 'LControl',
    'â€¹âˆ': 'LControl',
    'LCTL': 'LControl',
    'LCTRL': 'LControl',
    // 'âŒ¥': 'Alt',
    // 'â‡': 'Alt',
    // 'ALT': 'Alt',
    'âŒ¥': 'LAlt',
    'â‡': 'LAlt',
    'ALT': 'LAlt',
    'â€¹â‡': 'LAlt',
    'â€¹âŒ¥': 'LAlt',
    'LALT': 'LAlt',
    'â‡â€º': 'RAlt',
    'âŒ¥â€º': 'RAlt',
    'RALT': 'RAlt',
    'âŒƒâ€º': 'RControl',
    'âˆâ€º': 'RControl',
    'RCTL': 'RControl',
    'RCTRL': 'RControl',
    'âŒ˜': 'Win',
    'âŠ': 'Win',
    'â—†': 'Win',
    'â–': 'Win',
    'WIN': 'Win',
    'â€': 'Insert',
    'INS': 'Insert',
    'INSERT': 'Insert',
    'ğŸ”¢â‚€': '0',
    'ğŸ”¢â‚': '1',
    'ğŸ”¢â‚‚': '2',
    'ğŸ”¢â‚ƒ': '3',
    'ğŸ”¢â‚„': '4',
    'ğŸ”¢â‚…': '5',
    'ğŸ”¢â‚†': '6',
    'ğŸ”¢â‚‡': '7',
    'ğŸ”¢â‚ˆ': '8',
    'ğŸ”¢â‚‰': '9',
    'ğŸ”¢â„': '/',
    'ğŸ”¢â‚Š': '+',
    'ğŸ”¢âˆ—': '*',
    'ğŸ”¢â‚‹': '-',
    'ğŸ”¢ï¼': '.',
    'â‡­': 'NumLock',
    'NLK': 'NumLock',
    'NLCK': 'NumLock',
    'â‡³ğŸ”’': 'ScrollLock',
    'SLCK': 'ScrollLock',
    'SCRLCK': 'ScrollLock',
    'â€': '-',
    'â‚Œ': '='
  };
  static String getKeyForSymbol(String symbol) {
    return keyMappings[symbol] ?? symbol;
  }

  static String? getShiftedSymbol(String symbol) {
    for (final entry in activeKeyCodeShiftMap.entries) {
      final key = entry.key;
      if (key.$2 == false) {
        final shifted = activeKeyCodeShiftMap[(key.$1, true)];
        if (entry.value == symbol && shifted != null) {
          return shifted;
        }
      }
    }
    return symbol;
  }
}
